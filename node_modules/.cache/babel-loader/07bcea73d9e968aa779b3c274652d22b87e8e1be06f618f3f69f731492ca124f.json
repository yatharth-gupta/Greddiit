{"ast":null,"code":"import { HttpRequest } from \"@aws-sdk/protocol-http\";\nconst CONTENT_LENGTH_HEADER = \"content-length\";\nexport function contentLengthMiddleware(bodyLengthChecker) {\n  return next => async args => {\n    const request = args.request;\n    if (HttpRequest.isInstance(request)) {\n      const {\n        body,\n        headers\n      } = request;\n      if (body && Object.keys(headers).map(str => str.toLowerCase()).indexOf(CONTENT_LENGTH_HEADER) === -1) {\n        try {\n          const length = bodyLengthChecker(body);\n          request.headers = {\n            ...request.headers,\n            [CONTENT_LENGTH_HEADER]: String(length)\n          };\n        } catch (error) {}\n      }\n    }\n    return next({\n      ...args,\n      request\n    });\n  };\n}\nexport const contentLengthMiddlewareOptions = {\n  step: \"build\",\n  tags: [\"SET_CONTENT_LENGTH\", \"CONTENT_LENGTH\"],\n  name: \"contentLengthMiddleware\",\n  override: true\n};\nexport const getContentLengthPlugin = options => ({\n  applyToStack: clientStack => {\n    clientStack.add(contentLengthMiddleware(options.bodyLengthChecker), contentLengthMiddlewareOptions);\n  }\n});","map":{"version":3,"names":["HttpRequest","CONTENT_LENGTH_HEADER","contentLengthMiddleware","bodyLengthChecker","next","args","request","isInstance","body","headers","Object","keys","map","str","toLowerCase","indexOf","length","String","error","contentLengthMiddlewareOptions","step","tags","name","override","getContentLengthPlugin","options","applyToStack","clientStack","add"],"sources":["/home/yatharth/Desktop/sem_4/DASS/assignment_1/my-app/node_modules/@aws-sdk/middleware-content-length/dist-es/index.js"],"sourcesContent":["import { HttpRequest } from \"@aws-sdk/protocol-http\";\nconst CONTENT_LENGTH_HEADER = \"content-length\";\nexport function contentLengthMiddleware(bodyLengthChecker) {\n    return (next) => async (args) => {\n        const request = args.request;\n        if (HttpRequest.isInstance(request)) {\n            const { body, headers } = request;\n            if (body &&\n                Object.keys(headers)\n                    .map((str) => str.toLowerCase())\n                    .indexOf(CONTENT_LENGTH_HEADER) === -1) {\n                try {\n                    const length = bodyLengthChecker(body);\n                    request.headers = {\n                        ...request.headers,\n                        [CONTENT_LENGTH_HEADER]: String(length),\n                    };\n                }\n                catch (error) {\n                }\n            }\n        }\n        return next({\n            ...args,\n            request,\n        });\n    };\n}\nexport const contentLengthMiddlewareOptions = {\n    step: \"build\",\n    tags: [\"SET_CONTENT_LENGTH\", \"CONTENT_LENGTH\"],\n    name: \"contentLengthMiddleware\",\n    override: true,\n};\nexport const getContentLengthPlugin = (options) => ({\n    applyToStack: (clientStack) => {\n        clientStack.add(contentLengthMiddleware(options.bodyLengthChecker), contentLengthMiddlewareOptions);\n    },\n});\n"],"mappings":"AAAA,SAASA,WAAW,QAAQ,wBAAwB;AACpD,MAAMC,qBAAqB,GAAG,gBAAgB;AAC9C,OAAO,SAASC,uBAAuB,CAACC,iBAAiB,EAAE;EACvD,OAAQC,IAAI,IAAK,MAAOC,IAAI,IAAK;IAC7B,MAAMC,OAAO,GAAGD,IAAI,CAACC,OAAO;IAC5B,IAAIN,WAAW,CAACO,UAAU,CAACD,OAAO,CAAC,EAAE;MACjC,MAAM;QAAEE,IAAI;QAAEC;MAAQ,CAAC,GAAGH,OAAO;MACjC,IAAIE,IAAI,IACJE,MAAM,CAACC,IAAI,CAACF,OAAO,CAAC,CACfG,GAAG,CAAEC,GAAG,IAAKA,GAAG,CAACC,WAAW,EAAE,CAAC,CAC/BC,OAAO,CAACd,qBAAqB,CAAC,KAAK,CAAC,CAAC,EAAE;QAC5C,IAAI;UACA,MAAMe,MAAM,GAAGb,iBAAiB,CAACK,IAAI,CAAC;UACtCF,OAAO,CAACG,OAAO,GAAG;YACd,GAAGH,OAAO,CAACG,OAAO;YAClB,CAACR,qBAAqB,GAAGgB,MAAM,CAACD,MAAM;UAC1C,CAAC;QACL,CAAC,CACD,OAAOE,KAAK,EAAE,CACd;MACJ;IACJ;IACA,OAAOd,IAAI,CAAC;MACR,GAAGC,IAAI;MACPC;IACJ,CAAC,CAAC;EACN,CAAC;AACL;AACA,OAAO,MAAMa,8BAA8B,GAAG;EAC1CC,IAAI,EAAE,OAAO;EACbC,IAAI,EAAE,CAAC,oBAAoB,EAAE,gBAAgB,CAAC;EAC9CC,IAAI,EAAE,yBAAyB;EAC/BC,QAAQ,EAAE;AACd,CAAC;AACD,OAAO,MAAMC,sBAAsB,GAAIC,OAAO,KAAM;EAChDC,YAAY,EAAGC,WAAW,IAAK;IAC3BA,WAAW,CAACC,GAAG,CAAC1B,uBAAuB,CAACuB,OAAO,CAACtB,iBAAiB,CAAC,EAAEgB,8BAA8B,CAAC;EACvG;AACJ,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}